(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a4ac41a"],{4075:function(t,e,n){"use strict";var r=n("7813"),i=n.n(r);i.a},"592d":function(t,e,n){"use strict";var r=n("e2a4"),i=n.n(r);i.a},7813:function(t,e,n){},9095:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"slotMhchineBox"},[n("slotMachines",{ref:"slotMachines",attrs:{lotterynumnber:t.lotteryNumber},on:{update:t.updateLottryNums}})],1),n("button",{on:{click:t.handleRandomNumbers}},[t._v("随机")]),n("button",{on:{click:t.handleResetNumbers}},[t._v("重置")])])},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"slot-machines"},t._l(t.numbers,(function(e,r){return n("div",{key:r,ref:"list",refInFor:!0,staticClass:"list",class:{animal:t.listAnimal},on:{touchstart:function(e){return e.preventDefault(),function(e){return t.handleTouchStart(e,r)}(e)},touchmove:function(e){return e.preventDefault(),function(e){return t.handleTouchMove(e,r)}(e)},touchend:function(e){return e.preventDefault(),function(e){return t.handleTouchEnd(e,r)}(e)},mousedown:function(e){return e.preventDefault(),function(e){return t.handleMouseStart(e,r)}(e)},mousemove:function(e){return e.preventDefault(),function(e){return t.handleMouseMove(e,r)}(e)},mouseup:function(e){return e.preventDefault(),function(e){return t.handleMouseEnd(e,r)}(e)}}},t._l(t.itemlength,(function(t,e){return n("div",{key:e,ref:"item",refInFor:!0,staticClass:"item"})})),0)})),0)},o=[],a=(n("99af"),n("4160"),n("a15b"),n("d81d"),n("fb6a"),n("a434"),n("159b"),{props:{lotterynumnber:{type:String,default:""}},data:function(){return{itemlength:20,perAngleH:0,numbers:[0,0,0,0,0],listAnimal:!1,perAngle:0,touchStatus:!1,startY:0,endY:0,startAngle:0,roundAnimal:!1,updateTimeout:null,animalTime:3}},watch:{lotterynumnber:function(t,e){var n=this;e&&!t&&(this.$refs.list.forEach((function(t,e){t.style.transitionDuration="0s";var r=0;n.setListTransform(e,r)})),clearTimeout(this.updateTimeout),this.updateTimeout=null,this.numbers=[0,0,0,0,0])}},mounted:function(){this.init()},activated:function(){this.init()},methods:{init:function(){var t=this;this.perAngle=360/this.itemlength,this.perAngleH=this.$refs.item[0].clientHeight/this.perAngle,this.$refs.item.forEach((function(e,n){var r=t.setStyle(n);e.style.transform=r.transform,e.style.backgroundPosition=r.backgroundPosition}))},resetNumbers:function(){var t=this;this.roundAnimal&&(this.roundAnimal=!this.roundAnimal),this.$refs.list.forEach((function(e,n){e.style.transitionDuration="0s";var r=0;t.setListTransform(n,r)})),clearTimeout(this.updateTimeout),this.updateTimeout=null,this.numbers=[0,0,0,0,0],this.updateNumbers()},setStyle:function(t){var e=this.$refs.item[0].clientHeight,n=this.tzLength(e/2,this.perAngle/2);return{transform:"rotateX(".concat(18*t*-1,"deg) translateZ(").concat(n,"px)"),backgroundPosition:"0 ".concat(t%10*e*-1,"px")}},getCurrentAngle:function(t){return 1*this.$refs.list[t].style.transform.slice(8,-4)},getCurrentNumsByAngle:function(t){var e=t%360>=0?t%360/this.perAngle:(360+t%360)/this.perAngle;return e%10},tzLength:function(t,e){return Math.round(t/Math.tan(e*Math.PI/180)*1e5)/1e5},setListTransform:function(t,e){this.$refs.list[t].style.transform="rotateX(".concat(e,"deg)")},numbersByRandom:function(){var t=this;if(this.roundAnimal)return!1;this.roundAnimal=!this.roundAnimal;var e=[0,0,0,0,0].map((function(){return Math.floor(10*Math.random())}));this.listAnimal=!0,this.$refs.list.forEach((function(n,r){n.style.transitionDuration=t.animalTime+.2*r+"s";var i=t.getCurrentAngle(r),s=(e[r]-t.numbers[r])*t.perAngle+720+i;t.setListTransform(r,s)})),this.numbers=e,this.updateTimeout=setTimeout((function(){t.updateNumbers(),t.roundAnimal=!t.roundAnimal}),1e3*this.animalTime+800)},handleMouseStart:function(t,e){document.body.style.overflow="hidden",this.touchStatus=!0,this.startY=t.clientY,this.$refs.list[e].style.transitionDuration="",this.startAngle=this.getCurrentAngle(e)},handleMouseMove:function(t,e){if(this.touchStatus){this.endY=t.clientY;var n=(this.endY-this.startY)/1,r=this.startAngle+-1*n/this.perAngleH;this.setListTransform(e,r)}},handleMouseEnd:function(t,e){var n=this.getCurrentAngle(e),r=(n%this.perAngle+this.perAngle)%this.perAngle>=this.perAngle/2?Math.ceil(n/this.perAngle)*this.perAngle:Math.floor(n/this.perAngle)*this.perAngle;this.$refs.list[e].style.transitionDuration="500ms",this.setListTransform(e,r),this.numbers.splice(e,1,this.getCurrentNumsByAngle(r)),this.touchStatus=!1,this.endY=this.startY=this.startAngle=0,document.body.style.overflow="auto",this.updateNumbers()},handleTouchStart:function(t,e){document.body.style.overflow="hidden",this.touchStatus=!0;var n=t.targetTouches[0];this.startY=n.pageY,this.$refs.list[e].style.transitionDuration="",this.startAngle=this.getCurrentAngle(e)},handleTouchMove:function(t,e){if(this.touchStatus){var n=t.targetTouches[0];this.endY=n.pageY;var r=(this.endY-this.startY)/1,i=this.startAngle+-1*r/this.perAngleH;this.setListTransform(e,i)}},handleTouchEnd:function(t,e){var n=this.getCurrentAngle(e),r=(n%this.perAngle+this.perAngle)%this.perAngle>=this.perAngle/2?Math.ceil(n/this.perAngle)*this.perAngle:Math.floor(n/this.perAngle)*this.perAngle;this.$refs.list[e].style.transitionDuration="500ms",this.setListTransform(e,r),this.numbers.splice(e,1,this.getCurrentNumsByAngle(r)),this.touchStatus=!1,this.endY=this.startY=this.startAngle=0,document.body.style.overflow="auto",this.updateNumbers()},updateNumbers:function(){this.$emit("update",this.numbers.join(""))}}}),u=a,l=(n("4075"),n("2877")),h=Object(l["a"])(u,s,o,!1,null,"2684ed0b",null),c=h.exports,f={components:{slotMachines:c},data:function(){return{lotteryNumber:""}},methods:{handleRandomNumbers:function(){this.$refs.slotMachines.numbersByRandom()},handleResetNumbers:function(){this.$refs.slotMachines.resetNumbers()},updateLottryNums:function(t){this.lotteryNumber=t}}},d=f,m=(n("592d"),Object(l["a"])(d,r,i,!1,null,"1c72b812",null));e["default"]=m.exports},a15b:function(t,e,n){"use strict";var r=n("23e7"),i=n("44ad"),s=n("fc6a"),o=n("a640"),a=[].join,u=i!=Object,l=o("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(t){return a.call(s(this),void 0===t?",":t)}})},a434:function(t,e,n){"use strict";var r=n("23e7"),i=n("23cb"),s=n("a691"),o=n("50c4"),a=n("7b0b"),u=n("65f0"),l=n("8418"),h=n("1dde"),c=n("ae40"),f=h("splice"),d=c("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min,p=9007199254740991,A="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!d},{splice:function(t,e){var n,r,h,c,f,d,v=a(this),b=o(v.length),y=i(t,b),M=arguments.length;if(0===M?n=r=0:1===M?(n=0,r=b-y):(n=M-2,r=g(m(s(e),0),b-y)),b+n-r>p)throw TypeError(A);for(h=u(v,r),c=0;c<r;c++)f=y+c,f in v&&l(h,c,v[f]);if(h.length=r,n<r){for(c=y;c<b-r;c++)f=c+r,d=c+n,f in v?v[d]=v[f]:delete v[d];for(c=b;c>b-r+n;c--)delete v[c-1]}else if(n>r)for(c=b-r;c>y;c--)f=c+r-1,d=c+n-1,f in v?v[d]=v[f]:delete v[d];for(c=0;c<n;c++)v[c+y]=arguments[c+2];return v.length=b-r+n,h}})},e2a4:function(t,e,n){},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),s=n("e8b5"),o=n("23cb"),a=n("50c4"),u=n("fc6a"),l=n("8418"),h=n("b622"),c=n("1dde"),f=n("ae40"),d=c("slice"),m=f("slice",{ACCESSORS:!0,0:0,1:2}),g=h("species"),p=[].slice,A=Math.max;r({target:"Array",proto:!0,forced:!d||!m},{slice:function(t,e){var n,r,h,c=u(this),f=a(c.length),d=o(t,f),m=o(void 0===e?f:e,f);if(s(c)&&(n=c.constructor,"function"!=typeof n||n!==Array&&!s(n.prototype)?i(n)&&(n=n[g],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return p.call(c,d,m);for(r=new(void 0===n?Array:n)(A(m-d,0)),h=0;d<m;d++,h++)d in c&&l(r,h,c[d]);return r.length=h,r}})}}]);